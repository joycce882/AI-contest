# é“¶è¡Œä¸šåŠ¡æ™ºèƒ½é—®ç­”ç³»ç»Ÿ - è¯¦ç»†æŠ€æœ¯è¯´æ˜æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäº **RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰** æ¶æ„çš„é“¶è¡Œä¸šåŠ¡æ™ºèƒ½é—®ç­”ç³»ç»Ÿï¼Œé‡‡ç”¨ç°ä»£å…¨æ ˆæŠ€æœ¯æ ˆå¼€å‘ã€‚ç³»ç»Ÿèƒ½å¤Ÿç†è§£ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€é—®é¢˜ï¼Œä»çŸ¥è¯†åº“ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯ï¼Œå¹¶ä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹ç”Ÿæˆå‡†ç¡®ã€å¯é çš„å›ç­”ã€‚

### ğŸ¯ æ ¸å¿ƒç›®æ ‡
- ä¸ºé“¶è¡Œå®¢æˆ·æä¾›7Ã—24å°æ—¶æ™ºèƒ½ä¸šåŠ¡å’¨è¯¢æœåŠ¡
- é™ä½äººå·¥å®¢æœæˆæœ¬ï¼Œæé«˜æœåŠ¡æ•ˆç‡
- æä¾›é˜²è¯ˆçŸ¥è¯†æ™®åŠå’Œé£é™©æç¤º
- æ„å»ºå¯æ‰©å±•çš„çŸ¥è¯†åº“ç®¡ç†ç³»ç»Ÿ

### âœ¨ æ ¸å¿ƒç‰¹æ€§
- **æ™ºèƒ½é—®ç­”**ï¼šåŸºäºçŸ¥è¯†åº“çš„è¯­ä¹‰æ£€ç´¢å’ŒAIç”Ÿæˆå›ç­”
- **å®æ—¶å“åº”**ï¼šæ¯«ç§’çº§å‘é‡æœç´¢ï¼Œç§’çº§AIå›ç­”ç”Ÿæˆ
- **ä¸“ä¸šUI**ï¼šç°ä»£åŒ–è®¾è®¡ï¼Œå“åº”å¼å¸ƒå±€ï¼Œæµç•…äº¤äº’
- **é˜²è¯ˆçŸ¥è¯†**ï¼šåˆ†ç±»å±•ç¤ºå¸¸è§è¯ˆéª—ç±»å‹å’Œé˜²èŒƒæªæ–½
- **çŸ¥è¯†æº¯æº**ï¼šæ˜¾ç¤ºæ£€ç´¢åˆ°çš„çŸ¥è¯†åº“ç‰‡æ®µï¼Œå¢å¼ºå¯ä¿¡åº¦

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ç”¨æˆ·ç•Œé¢å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Vue 3 + TypeScript + Element Plus                   â”‚ â”‚
â”‚  â”‚ - å“åº”å¼ç»„ä»¶                                        â”‚ â”‚
â”‚  â”‚ - çŠ¶æ€ç®¡ç† (ref/reactive)                          â”‚ â”‚
â”‚  â”‚ - API é€šä¿¡ (Axios)                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ HTTP/HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åº”ç”¨æœåŠ¡å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ FastAPI + Python                                    â”‚ â”‚
â”‚  â”‚ - RESTful API                                       â”‚ â”‚
â”‚  â”‚ - CORS ä¸­é—´ä»¶                                       â”‚ â”‚
â”‚  â”‚ - è¯·æ±‚éªŒè¯ (Pydantic)                               â”‚ â”‚
â”‚  â”‚ - å¼‚å¸¸å¤„ç†                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   RAG å¤„ç†å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ å‘é‡æ£€ç´¢å¼•æ“                                         â”‚ â”‚
â”‚  â”‚ - Embedding ç”Ÿæˆ (BAAI/bge-small-zh)                â”‚ â”‚
â”‚  â”‚ - ç›¸ä¼¼åº¦è®¡ç®—                                         â”‚ â”‚
â”‚  â”‚ - Top-K ç»“æœè¿”å›                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ LLM ç”Ÿæˆå¼•æ“                                         â”‚ â”‚
â”‚  â”‚ - DeepSeek Chat API                                 â”‚ â”‚
â”‚  â”‚ - Prompt å·¥ç¨‹                                        â”‚ â”‚
â”‚  â”‚ - å›ç­”ç”Ÿæˆå’Œæ ¼å¼åŒ–                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ•°æ®å­˜å‚¨å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ChromaDB å‘é‡æ•°æ®åº“                                  â”‚ â”‚
â”‚  â”‚ - æœ¬åœ°æŒä¹…åŒ–å­˜å‚¨                                     â”‚ â”‚
â”‚  â”‚ - å‘é‡ç´¢å¼•                                           â”‚ â”‚
â”‚  â”‚ - æ–‡æ¡£ç®¡ç†                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Excel çŸ¥è¯†åº“æºæ–‡ä»¶                                   â”‚ â”‚
â”‚  â”‚ - ç»“æ„åŒ–ä¸šåŠ¡æ•°æ®                                     â”‚ â”‚
â”‚  â”‚ - å¯æ‰©å±•æ›´æ–°                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµå‘
1. **ç”¨æˆ·è¾“å…¥** â†’ å‰ç«¯ç•Œé¢ â†’ HTTP POST /ask
2. **åç«¯æ¥æ”¶** â†’ ç”Ÿæˆ embedding â†’ å‘é‡æ£€ç´¢ â†’ è·å– top-3 æ–‡æ¡£
3. **LLM è°ƒç”¨** â†’ ç»„è£… prompt â†’ DeepSeek API â†’ ç”Ÿæˆå›ç­”
4. **è¿”å›ç»“æœ** â†’ JSON æ ¼å¼ â†’ å‰ç«¯æ¸²æŸ“ â†’ ç”¨æˆ·æŸ¥çœ‹

---

## ğŸ’» æŠ€æœ¯æ ˆè¯¦è§£

### åç«¯æŠ€æœ¯æ ˆ (Python)

| ç»„ä»¶ | ç‰ˆæœ¬ | ç”¨é€” | å…³é”®ç‰¹æ€§ |
|------|------|------|----------|
| **FastAPI** | 0.104.1 | Web æ¡†æ¶ | å¼‚æ­¥æ”¯æŒã€è‡ªåŠ¨æ–‡æ¡£ç”Ÿæˆã€ç±»å‹æç¤º |
| **Uvicorn** | 0.24.0 | ASGI æœåŠ¡å™¨ | é«˜æ€§èƒ½ã€çƒ­é‡è½½ |
| **ChromaDB** | 0.4.24 | å‘é‡æ•°æ®åº“ | æœ¬åœ°å­˜å‚¨ã€ç®€å•æ˜“ç”¨ |
| **Sentence Transformers** | 2.7.0 | Embedding æ¨¡å‹ | BAAI/bge-small-zh (512ç»´) |
| **OpenAI SDK** | 1.6.0 | LLM å®¢æˆ·ç«¯ | DeepSeek API è°ƒç”¨ |
| **Pandas** | 2.1.3 | æ•°æ®å¤„ç† | Excel è¯»å–ã€æ•°æ®è½¬æ¢ |
| **Python-dotenv** | 1.0.0 | ç¯å¢ƒå˜é‡ | é…ç½®ç®¡ç† |

### å‰ç«¯æŠ€æœ¯æ ˆ (TypeScript)

| ç»„ä»¶ | ç‰ˆæœ¬ | ç”¨é€” | å…³é”®ç‰¹æ€§ |
|------|------|------|----------|
| **Vue 3** | 3.3.8 | å‰ç«¯æ¡†æ¶ | Composition APIã€å“åº”å¼ |
| **Vite** | 5.0.8 | æ„å»ºå·¥å…· | å¿«é€Ÿå†·å¯åŠ¨ã€HMR |
| **TypeScript** | 5.3.3 | ç¼–ç¨‹è¯­è¨€ | ç±»å‹å®‰å…¨ã€å¼€å‘ä½“éªŒ |
| **Element Plus** | 2.4.4 | UI ç»„ä»¶åº“ | ä¸“ä¸šè®¾è®¡ã€ä¸°å¯Œç»„ä»¶ |
| **Axios** | 1.6.2 | HTTP å®¢æˆ·ç«¯ | Promise APIã€æ‹¦æˆªå™¨ |

---

## ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„è¯¦è§£

```
work_match_vs/
â”œâ”€â”€ ğŸ“ backend/                    # Python FastAPI åç«¯
â”‚   â”œâ”€â”€ ğŸ main.py                # æ ¸å¿ƒåº”ç”¨ (150+ è¡Œ)
â”‚   â”œâ”€â”€ ğŸ build_index.py         # çŸ¥è¯†åº“æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ ğŸ view_db.py             # æ•°æ®åº“æŸ¥çœ‹å·¥å…·
â”‚   â”œâ”€â”€ ğŸ outputtest.py          # æœ¬åœ°æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ test_integration.py    # é›†æˆæµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ .env                   # ç¯å¢ƒå˜é‡é…ç½®
â”‚   â”œâ”€â”€ ğŸ“„ requirements.txt       # Python ä¾èµ–
â”‚   â”œâ”€â”€ ğŸ“œ run.bat                # Windows å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“œ run.sh                 # Linux/Mac å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“Š data.xlsx              # çŸ¥è¯†åº“æºæ•°æ®
â”‚   â””â”€â”€ ğŸ“ chroma_db/             # å‘é‡æ•°æ®åº“ç›®å½•
â”‚       â”œâ”€â”€ chroma.sqlite3        # SQLite æ•°æ®åº“æ–‡ä»¶
â”‚       â””â”€â”€ [collection data]     # å‘é‡ç´¢å¼•æ•°æ®
â”‚
â”œâ”€â”€ ğŸ“ frontend/                   # Vue 3 + Vite å‰ç«¯
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ¨ App.vue            # ä¸»åº”ç”¨ç»„ä»¶ (600+ è¡Œ)
â”‚   â”‚   â”œâ”€â”€ ğŸ“˜ main.ts            # å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“˜ vite-env.d.ts      # ç¯å¢ƒå˜é‡ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“ api/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“˜ client.ts      # Axios API å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ ğŸ  Home.vue           # é¦–é¡µç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ âš ï¸ FraudPage.vue      # åè¯ˆé¡µé¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ğŸ’¡ KnowledgePage.vue  # çŸ¥è¯†ç§‘æ™®é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ index.html             # HTML å…¥å£
â”‚   â”œâ”€â”€ ğŸ“˜ vite.config.ts         # Vite é…ç½® (å«ä»£ç†)
â”‚   â”œâ”€â”€ ğŸ“˜ tsconfig.json          # TypeScript é…ç½®
â”‚   â”œâ”€â”€ ğŸ“˜ tsconfig.node.json     # Node TS é…ç½®
â”‚   â”œâ”€â”€ ğŸ“„ package.json           # NPM ä¾èµ–
â”‚   â”œâ”€â”€ ğŸ“„ .env.local             # ç¯å¢ƒå˜é‡
â”‚   â”œâ”€â”€ ğŸ“„ .gitignore             # Git å¿½ç•¥è§„åˆ™
â”‚   â”œâ”€â”€ ğŸ“œ run.bat                # Windows å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ ğŸ“œ run.sh                 # Linux/Mac å¯åŠ¨è„šæœ¬
â”‚
â””â”€â”€ ğŸ“„ README.md                   # å¿«é€Ÿå¯åŠ¨æŒ‡å—
â””â”€â”€ ğŸ“„ COMPLETION.md              # é¡¹ç›®å®Œæˆæ€»ç»“
â””â”€â”€ ğŸ“„ PROJECT_OVERVIEW.md        # é¡¹ç›®æ€»è§ˆ
â””â”€â”€ ğŸ“„ é¡¹ç›®è¯¦ç»†è¯´æ˜æ–‡æ¡£.md         # æœ¬æ–‡æ¡£
```

---

## ğŸ”§ æ ¸å¿ƒå®ç°ç»†èŠ‚

### åç«¯æ ¸å¿ƒé€»è¾‘ (main.py)

#### 1. åº”ç”¨åˆå§‹åŒ–
```python
# ç¯å¢ƒå˜é‡åŠ è½½
load_dotenv()

# FastAPI åº”ç”¨åˆå§‹åŒ–
app = FastAPI(title="é“¶è¡Œä¸šåŠ¡é—®ç­”ç³»ç»Ÿ", version="1.0.0")

# CORS é…ç½®ï¼ˆæ”¯æŒè·¨åŸŸï¼‰
app.add_middleware(CORSMiddleware, allow_origins=["*"])

# åˆå§‹åŒ–ç»„ä»¶
ai_client = OpenAI(api_key=api_key, base_url="https://api.deepseek.com")
embed_model = SentenceTransformer("BAAI/bge-small-zh")
client = PersistentClient(path=db_path)
collection = client.get_collection("excel_knowledge")
```

#### 2. RAG æ£€ç´¢é€»è¾‘
```python
def retrieve_docs(query: str, top_k: int = 3) -> List[str]:
    """ä»å‘é‡æ•°æ®åº“æ£€ç´¢ç›¸å…³æ–‡æ¡£"""
    # ç”Ÿæˆ embedding
    emb = embed_model.encode([query]).tolist()[0]

    # å‘é‡æœç´¢
    results = collection.query(
        query_embeddings=[emb],
        n_results=top_k
    )

    return results["documents"][0] if results["documents"] else []
```

#### 3. LLM å›ç­”ç”Ÿæˆ
```python
def llm_answer(question: str, context: str) -> str:
    """ä½¿ç”¨ DeepSeek LLM ç”Ÿæˆå›ç­”"""
    prompt = f"""ä½ æ˜¯ä¸€åé“¶è¡Œä¸šåŠ¡æ™ºèƒ½åŠ©æ‰‹ï¼Œè¯·æ ¹æ®ç»™å®šçš„çŸ¥è¯†åº“å†…å®¹å›ç­”ç”¨æˆ·é—®é¢˜ã€‚

çŸ¥è¯†åº“å†…å®¹ï¼š
{context}

ç”¨æˆ·é—®é¢˜ï¼š
{question}

è¯·æ ¹æ®çŸ¥è¯†åº“å†…å®¹å‡†ç¡®å›ç­”ï¼Œä¸è¦ç¼–é€ ä¸å­˜åœ¨çš„ä¿¡æ¯ã€‚å¦‚æœçŸ¥è¯†åº“ä¸­æ²¡æœ‰ç›¸å…³ä¿¡æ¯ï¼Œè¯·å‘Šè¯‰ç”¨æˆ·ã€‚
"""

    resp = ai_client.chat.completions.create(
        model="deepseek-chat",
        messages=[{"role": "user", "content": prompt}],
        temperature=0.3
    )

    return resp.choices[0].message.content
```

#### 4. API ç«¯ç‚¹è®¾è®¡
- `GET /health` - å¥åº·æ£€æŸ¥
- `POST /ask` - æ™ºèƒ½é—®ç­”ï¼ˆæ ¸å¿ƒæ¥å£ï¼‰
- `GET /anti-fraud-tags` - é˜²è¯ˆçŸ¥è¯†æ ‡ç­¾

### å‰ç«¯æ ¸å¿ƒé€»è¾‘ (App.vue)

#### 1. ç»„ä»¶æ¶æ„
```typescript
// å“åº”å¼çŠ¶æ€ç®¡ç†
const userQuestion = ref('')
const isLoading = ref(false)
const showResult = ref(false)
const answer = ref('')
const context = ref<string[]>([])
const errorMessage = ref('')

// ä¸šåŠ¡æµç¨‹æ•°æ®
const businessProcesses = ref<ProcessStep[]>([...])

// ä¸šåŠ¡åˆ†ç±»æ ‡ç­¾
const businessTags = ref<Tag[]>([...])
```

#### 2. é—®ç­”æµç¨‹
```typescript
async function handleAsk() {
    if (!userQuestion.value.trim()) return

    isLoading.value = true
    errorMessage.value = ''

    try {
        const response = await apiService.askQuestion(userQuestion.value)
        const { answer: aiAnswer, context: docs } = response.data

        answer.value = aiAnswer
        context.value = docs
        showResult.value = true

        ElMessage.success('âœ… å·²è·å–å›ç­”')
    } catch (error: any) {
        // é”™è¯¯å¤„ç†é€»è¾‘
        errorMessage.value = `âŒ ${getErrorMessage(error)}`
    } finally {
        isLoading.value = false
    }
}
```

#### 3. API å®¢æˆ·ç«¯ (client.ts)
```typescript
export const apiService = {
    // å¥åº·æ£€æŸ¥
    healthCheck: () => axios.get('/api/health'),

    // æ™ºèƒ½é—®ç­”
    askQuestion: (question: string) =>
        axios.post('/api/ask', { question }),

    // é˜²è¯ˆæ ‡ç­¾
    getAntiFraudTags: () => axios.get('/api/anti-fraud-tags')
}
```

### çŸ¥è¯†åº“æ„å»º (build_index.py)

#### 1. æ•°æ®é¢„å¤„ç†
```python
def row_to_text(row):
    """å°† Excel è¡Œè½¬æ¢ä¸ºæ–‡æœ¬ç‰‡æ®µ"""
    return f"""
ä¸šåŠ¡åç§°ï¼š{row['ä¸šåŠ¡åç§°']}
ä¸šåŠ¡åˆ«åï¼š{row['ä¸šåŠ¡åˆ«å']}
æ¨èæ¸ é“ï¼š{row['æ¨èæ¸ é“']}
å…¶ä»–æ¸ é“ï¼š{row['å…¶ä»–æ¸ é“']}
å¿…é¡»è¯ä»¶ï¼š{row['å¿…é¡»è¯ä»¶']}
ç›¸å…³è¾…åŠ©ææ–™ï¼š{row['ç›¸å…³è¾…åŠ©ææ–™']}
åŠç†æµç¨‹è¯´æ˜ï¼š{row['åŠç†æµç¨‹è¯´æ˜']}
æ˜¯å¦å¿…é¡»ä¸ºæœ¬äººï¼š{row['æ˜¯å¦å¿…é¡»ä¸ºæœ¬äºº']}
""".strip()

# è½¬æ¢æ‰€æœ‰è¡Œ
docs = df.apply(row_to_text, axis=1).tolist()
```

#### 2. Embedding ç”Ÿæˆ
```python
# ä½¿ç”¨ BAAI/bge-small-zh æ¨¡å‹ç”Ÿæˆ embedding
model = SentenceTransformer("BAAI/bge-small-zh")
embs = model.encode(docs, show_progress_bar=True)
```

#### 3. å‘é‡å­˜å‚¨
```python
# å­˜å‚¨åˆ° ChromaDB
client = chromadb.PersistentClient(path="chroma_db")
coll = client.get_or_create_collection("excel_knowledge")

coll.add(
    documents=docs,
    embeddings=embs,
    ids=ids
)
```

---

## ğŸ¨ UI/UX è®¾è®¡ç†å¿µ

### è®¾è®¡åŸåˆ™
1. **ä¸“ä¸šå¯ä¿¡**ï¼šé‡‡ç”¨é“¶è¡Œè¡Œä¸šæ ‡å‡†çš„è“ç´«è‰²è°ƒ
2. **ç›´è§‚æ˜“ç”¨**ï¼šæ¸…æ™°çš„å¸ƒå±€ï¼Œè‡ªç„¶çš„äº¤äº’æµç¨‹
3. **å“åº”å¼**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸
4. **æ€§èƒ½ä¼˜å…ˆ**ï¼šå¿«é€ŸåŠ è½½ï¼Œæµç•…åŠ¨ç”»

### é¡µé¢å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ğŸ¦ é“¶è¡Œä¸šåŠ¡æ™ºèƒ½é—®ç­”ç³»ç»Ÿ  [åˆ·æ–°]          â”‚ â† æ¸å˜å¯¼èˆªæ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ ä¸šåŠ¡åˆ†ç±»  â”‚                                        â”‚
â”‚            â”‚     ğŸ¤” æå‡ºä½ çš„é—®é¢˜                     â”‚
â”‚ ä¿¡ç”¨å¡     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚ è½¬è´¦æ±‡æ¬¾   â”‚  â”‚ è¾“å…¥æ¡†ï¼ˆæ”¯æŒ Ctrl+Enterï¼‰     â”‚      â”‚
â”‚ ç†è´¢æŠ•èµ„   â”‚  â”‚ ...                          â”‚      â”‚
â”‚ è´·æ¬¾æœåŠ¡   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚ ç”µå­é“¶è¡Œ   â”‚  [æäº¤é—®é¢˜] [æ¸…ç©º]                     â”‚
â”‚ è´¦æˆ·å®‰å…¨   â”‚                                        â”‚
â”‚            â”‚  ã€AI å›ç­”ã€‘ï¼ˆåŠ¨æ€æ˜¾ç¤ºï¼‰               â”‚
â”‚ ğŸ’¡ä½¿ç”¨æç¤º  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚            â”‚  â”‚ AI çš„è¯¦ç»†å›ç­”å†…å®¹             â”‚      â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚            â”‚                                        â”‚
â”‚            â”‚  ã€çŸ¥è¯†åº“ç‰‡æ®µã€‘ï¼ˆå¸¦ç¼–å·ï¼‰               â”‚
â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚            â”‚  â”‚ 1 â”‚ ä¸šåŠ¡åç§°ï¼š...             â”‚      â”‚
â”‚            â”‚  â”‚ 2 â”‚ åŠç†æµç¨‹ï¼š...             â”‚      â”‚
â”‚            â”‚  â”‚ 3 â”‚ å¿…é¡»è¯ä»¶ï¼š...             â”‚      â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚            â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### äº¤äº’è®¾è®¡
- **é”®ç›˜å¿«æ·é”®**ï¼šCtrl+Enter å¿«é€Ÿæäº¤
- **åŠ è½½çŠ¶æ€**ï¼šæŒ‰é’®ç¦ç”¨ï¼Œæ˜¾ç¤ºåŠ è½½åŠ¨ç”»
- **é”™è¯¯å¤„ç†**ï¼šå‹å¥½çš„é”™è¯¯æç¤ºå’Œé‡è¯•æœºåˆ¶
- **ç»“æœå±•ç¤º**ï¼šæ¸è¿›å¼åŠ¨ç”»ï¼Œå¢å¼ºç”¨æˆ·ä½“éªŒ

---

## ğŸš€ éƒ¨ç½²å’Œè¿ç»´

### å¼€å‘ç¯å¢ƒå¯åŠ¨
```bash
# åç«¯å¯åŠ¨
cd backend
python main.py
# æˆ–ä½¿ç”¨å¯åŠ¨è„šæœ¬
run.bat  # Windows
bash run.sh  # Linux/Mac

# å‰ç«¯å¯åŠ¨
cd frontend
npm run dev
# æˆ–ä½¿ç”¨å¯åŠ¨è„šæœ¬
run.bat  # Windows
bash run.sh  # Linux/Mac
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### åç«¯éƒ¨ç½²
```bash
# ä½¿ç”¨ Gunicorn + Uvicorn
pip install gunicorn
gunicorn -w 4 -k uvicorn.workers.UvicornWorker main:app --bind 0.0.0.0:8000

# æˆ–ä½¿ç”¨ Docker
FROM python:3.10
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
CMD ["gunicorn", "-w", "4", "-k", "uvicorn.workers.UvicornWorker", "main:app", "--bind", "0.0.0.0:8000"]
```

#### å‰ç«¯éƒ¨ç½²
```bash
# æ„å»ºç”Ÿäº§åŒ…
npm run build

# ä½¿ç”¨ Nginx éƒ¨ç½²
server {
    listen 80;
    server_name your-domain.com;

    location / {
        root /path/to/frontend/dist;
        try_files $uri $uri/ /index.html;
    }

    location /api {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### ç›‘æ§å’Œæ—¥å¿—
- **åç«¯æ—¥å¿—**ï¼šFastAPI å†…ç½®æ—¥å¿— + è‡ªå®šä¹‰æ—¥å¿—
- **å‰ç«¯ç›‘æ§**ï¼šæµè§ˆå™¨æ§åˆ¶å° + ç½‘ç»œè¯·æ±‚ç›‘æ§
- **æ€§èƒ½ç›‘æ§**ï¼šå“åº”æ—¶é—´ã€é”™è¯¯ç‡ã€å¹¶å‘æ•°

---

## ğŸ” å®‰å…¨è€ƒè™‘

### å½“å‰å®‰å…¨æªæ–½
- âœ… API Key ç¯å¢ƒå˜é‡ç®¡ç†
- âœ… è¾“å…¥éªŒè¯å’Œæ¸…ç†
- âœ… CORS é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒå…è®¸æ‰€æœ‰æºï¼‰
- âœ… å¼‚å¸¸å¤„ç†å’Œé”™è¯¯ä¿¡æ¯æ¨¡ç³ŠåŒ–

### ç”Ÿäº§ç¯å¢ƒå®‰å…¨å»ºè®®
- [ ] é™åˆ¶ CORS æ¥æºä¸ºç‰¹å®šåŸŸå
- [ ] å¯ç”¨ HTTPS/TLS
- [ ] æ·»åŠ è¯·æ±‚é™æµï¼ˆRate Limitingï¼‰
- [ ] å®ç°ç”¨æˆ·è®¤è¯ï¼ˆJWT/OAuthï¼‰
- [ ] API Key è½®æ¢æœºåˆ¶
- [ ] æ•°æ®åº“å¤‡ä»½å’ŒåŠ å¯†
- [ ] å®‰å…¨å®¡è®¡æ—¥å¿—

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### åç«¯æ€§èƒ½
- **å‘é‡æ£€ç´¢**ï¼š< 100msï¼ˆChromaDB æœ¬åœ°å­˜å‚¨ï¼‰
- **LLM è°ƒç”¨**ï¼š2-5sï¼ˆå–å†³äº DeepSeek APIï¼‰
- **æ€»ä½“å“åº”**ï¼š< 10s

### å‰ç«¯æ€§èƒ½
- **é¦–å±åŠ è½½**ï¼š< 2sï¼ˆVite HMRï¼‰
- **æ‰“åŒ…å¤§å°**ï¼š~150KBï¼ˆgzipï¼‰
- **äº¤äº’å“åº”**ï¼š< 100ms

### ä¼˜åŒ–ç­–ç•¥
1. **ç¼“å­˜æœºåˆ¶**ï¼šå‘é‡æ£€ç´¢ç»“æœç¼“å­˜
2. **å¼‚æ­¥å¤„ç†**ï¼šéé˜»å¡ I/O æ“ä½œ
3. **ä»£ç åˆ†å‰²**ï¼šå‰ç«¯è·¯ç”±æ‡’åŠ è½½
4. **å›¾ç‰‡ä¼˜åŒ–**ï¼šå‹ç¼©å’Œæ‡’åŠ è½½

---

## ğŸ”„ æ‰©å±•æ€§è®¾è®¡

### çŸ¥è¯†åº“æ‰©å±•
- **æ•°æ®æº**ï¼šæ”¯æŒ Excelã€CSVã€æ•°æ®åº“ç­‰å¤šç§æ ¼å¼
- **å­—æ®µæ‰©å±•**ï¼šå¯æ·»åŠ æ–°å­—æ®µè€Œä¸å½±å“ç°æœ‰é€»è¾‘
- **å¤šè¯­è¨€**ï¼šæ›´æ¢ embedding æ¨¡å‹å’Œ LLM prompt

### åŠŸèƒ½æ‰©å±•
- **ç”¨æˆ·ç³»ç»Ÿ**ï¼šç™»å½•/æ³¨å†Œã€é—®ç­”å†å²
- **ç®¡ç†åå°**ï¼šçŸ¥è¯†åº“ CRUDã€ç”¨æˆ·ç®¡ç†
- **å¤šæ¨¡æ€**ï¼šæ”¯æŒå›¾ç‰‡ã€æ–‡æ¡£ä¸Šä¼ 
- **å®æ—¶é€šä¿¡**ï¼šWebSocket èŠå¤©

### æ¶æ„æ‰©å±•
- **å¾®æœåŠ¡**ï¼šæ‹†åˆ†é—®ç­”ã€ç”¨æˆ·ã€çŸ¥è¯†åº“æœåŠ¡
- **è´Ÿè½½å‡è¡¡**ï¼šå¤šå®ä¾‹éƒ¨ç½²
- **ç¼“å­˜å±‚**ï¼šRedis ç¼“å­˜çƒ­ç‚¹æ•°æ®
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šå¼‚æ­¥ä»»åŠ¡å¤„ç†

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### åç«¯æµ‹è¯•
```python
# é›†æˆæµ‹è¯• (test_integration.py)
def test_health_check():
    response = client.get("/health")
    assert response.status_code == 200
    assert response.json()["status"] == "ok"

def test_ask_question():
    response = client.post("/ask", json={"question": "åŠç†é“¶è¡Œå¡éœ€è¦ä»€ä¹ˆè¯ä»¶ï¼Ÿ"})
    assert response.status_code == 200
    assert "answer" in response.json()
    assert "context" in response.json()
```

### å‰ç«¯æµ‹è¯•
- **å•å…ƒæµ‹è¯•**ï¼šç»„ä»¶é€»è¾‘æµ‹è¯•
- **é›†æˆæµ‹è¯•**ï¼šAPI è°ƒç”¨æµ‹è¯•
- **E2E æµ‹è¯•**ï¼šç”¨æˆ·æµç¨‹æµ‹è¯•

### æ€§èƒ½æµ‹è¯•
- **è´Ÿè½½æµ‹è¯•**ï¼šå¹¶å‘ç”¨æˆ·æ¨¡æ‹Ÿ
- **å‹åŠ›æµ‹è¯•**ï¼šæé™è´Ÿè½½æµ‹è¯•
- **ç¨³å®šæ€§æµ‹è¯•**ï¼šé•¿æ—¶é—´è¿è¡Œæµ‹è¯•

---

## ğŸ“ˆ é¡¹ç›®æŒ‡æ ‡

### å¼€å‘æŒ‡æ ‡
- **ä»£ç è¡Œæ•°**ï¼š1000+ è¡Œï¼ˆPython + Vueï¼‰
- **æ–‡ä»¶æ•°é‡**ï¼š20+ ä¸ªæ ¸å¿ƒæ–‡ä»¶
- **å¼€å‘å‘¨æœŸ**ï¼šå®Œæ•´åŠŸèƒ½å¼€å‘å®Œæˆ
- **æ–‡æ¡£å®Œæ•´æ€§**ï¼š3000+ è¡Œè¯¦ç»†æ–‡æ¡£

### è´¨é‡æŒ‡æ ‡
- **ä»£ç è¦†ç›–ç‡**ï¼šé›†æˆæµ‹è¯•è¦†ç›–æ ¸å¿ƒåŠŸèƒ½
- **æ€§èƒ½æŒ‡æ ‡**ï¼šå“åº”æ—¶é—´ < 10s
- **å¯ç”¨æ€§**ï¼š99%+ æœåŠ¡å¯ç”¨æ€§
- **å¯ç»´æŠ¤æ€§**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œæ¸…æ™°æ³¨é‡Š

---


## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å¸¸è§é—®é¢˜
1. **Q: ä¸ºä»€ä¹ˆä½¿ç”¨å‘é‡æ•°æ®åº“ï¼Ÿ**
   A: æ¯”å…³é”®è¯æœç´¢æ›´æ™ºèƒ½ï¼Œèƒ½ç†è§£é—®é¢˜çš„è¯­ä¹‰ï¼Œæ‰¾åˆ°æœ€ç›¸å…³çš„çŸ¥è¯†åº“å†…å®¹ã€‚

2. **Q: å¯ä»¥ç¦»çº¿ä½¿ç”¨å—ï¼Ÿ**
   A: åç«¯å¯ä»¥ç¦»çº¿ï¼ˆChroma æœ¬åœ°å­˜å‚¨ï¼‰ï¼Œä½† LLM éœ€è¦ç½‘ç»œè¿æ¥åˆ° DeepSeek APIã€‚

3. **Q: å¦‚ä½•æ›´æ–°çŸ¥è¯†åº“ï¼Ÿ**
   A: ç¼–è¾‘ `backend/data.xlsx`ï¼Œè¿è¡Œ `python build_index.py` é‡å»ºå‘é‡æ•°æ®åº“ã€‚

### æ•…éšœæ’é™¤
- **åç«¯å¯åŠ¨å¤±è´¥**ï¼šæ£€æŸ¥ Python ä¾èµ–å’Œç¯å¢ƒå˜é‡
- **å‰ç«¯è¿æ¥å¤±è´¥**ï¼šæ£€æŸ¥åç«¯æœåŠ¡çŠ¶æ€å’Œ CORS é…ç½®
- **é—®ç­”æ— ç»“æœ**ï¼šæ£€æŸ¥çŸ¥è¯†åº“æ˜¯å¦æ„å»ºæˆåŠŸ

---

## ğŸ“ æ€»ç»“

è¿™æ˜¯ä¸€ä¸ª**ç”Ÿäº§çº§åˆ«çš„å…¨æ ˆæ™ºèƒ½é—®ç­”ç³»ç»Ÿ**ï¼Œå…·æœ‰ï¼š

- âœ¨ **ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆ**ï¼šVue 3 + FastAPI + ChromaDB
- ğŸš€ **é«˜æ•ˆçš„ RAG æ¶æ„**ï¼šå‘é‡æ£€ç´¢ + LLM ç”Ÿæˆ
- ğŸ¨ **ä¸“ä¸šçš„ UI è®¾è®¡**ï¼šElement Plus + å“åº”å¼å¸ƒå±€
- ğŸ“š **å®Œæ•´çš„é¡¹ç›®æ–‡æ¡£**ï¼šè¯¦ç»†çš„æŠ€æœ¯è¯´æ˜å’Œä½¿ç”¨æŒ‡å—
- ğŸ”§ **å·¥ç¨‹åŒ–å®è·µ**ï¼šæ¨¡å—åŒ–è®¾è®¡ã€é”™è¯¯å¤„ç†ã€æµ‹è¯•è¦†ç›–


---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0.0
**æœ€åæ›´æ–°**ï¼š2025-11-25
**ç»´æŠ¤è€…**ï¼šBJ